# =============================================
# SEMSCAN API GLOBAL CONFIGURATION
# =============================================
# This file should be placed in: /opt/semscan-api/config/application-global.properties
# External config files override JAR-internal config files

# =============================================
# SERVER CONFIGURATION
# =============================================
server.port=8080
server.servlet.context-path=/

# =============================================
# API CONFIGURATION
# =============================================
app.api.version=v1
app.api.base-path=/api

# =============================================
# SECURITY CONFIGURATION
# =============================================
app.security.api-key-header=x-api-key
app.security.cors.allowed-origins=*

# =============================================
# LOGGING CONFIGURATION
# =============================================
app.logging.enable-request-logging=true

# =============================================
# MANUAL ATTENDANCE CONFIGURATION
# =============================================
# Time window for manual attendance requests (in minutes)
app.attendance.manual.window-before-minutes=0
app.attendance.manual.window-after-minutes=0

# Auto-approve configuration
app.attendance.manual.auto-approve-cap-percentage=5
app.attendance.manual.auto-approve-min-cap=5

# =============================================
# REGISTRATION APPROVAL CONFIGURATION
# =============================================
# Approval token expiration time (in hours) - 7 days = 168 hours
app.registration.approval.token-expiration-hours=168

# Registration limits
app.registration.msc.max-per-slot=3
app.registration.phd.max-per-slot=1

# =============================================
# EXPORT CONFIGURATION
# =============================================
app.export.max-file-size-mb=50
app.export.allowed-formats=csv,xlsx
# Email recipients for export reports (comma-separated list)
app.export.email-recipients=benariet@bgu.ac.il,amarrev@bgu.ac.il

# =============================================
# EMAIL CONFIGURATION
# =============================================
# Monitoring email - all emails will be BCC'd to this address
app.email.monitoring-cc=benariet@bgu.ac.il
# Office 365 SMTP - Shared Mailbox Configuration
# IMPORTANT: Shared mailboxes don't have passwords - they use permissions
# You authenticate with YOUR account that has permissions to send from the shared mailbox
# Can be overridden via environment variables:
#   SPRING_MAIL_USERNAME=account-with-permissions@bgu.ac.il
#   SPRING_MAIL_PASSWORD=account-password
#   SPRING_MAIL_FROM=SemScan_System_NoReply@bgu.ac.il
spring.mail.host=outlook.office365.com
spring.mail.port=587
spring.mail.username=${SPRING_MAIL_USERNAME:benariet@bgu.ac.il}
spring.mail.password=${SPRING_MAIL_PASSWORD:your-password-here}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=30000
spring.mail.properties.mail.smtp.timeout=30000
spring.mail.properties.mail.smtp.writetimeout=30000
spring.mail.from=${SPRING_MAIL_FROM:SemScan_System_NoReply@bgu.ac.il}

# =============================================
# APPLICATION INFO
# =============================================
app.name=SemScan API
app.version=1.0.0
app.description=SemScan Attendance System API

# =============================================
